(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2PLogger = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var Libp2PLogger=(()=>{var L=Object.defineProperty;var Y=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var ee=Object.prototype.hasOwnProperty;var re=(e,r)=>{for(var t in r)L(e,t,{get:r[t],enumerable:!0})},te=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of H(r))!ee.call(e,n)&&n!==t&&L(e,n,{get:()=>r[n],enumerable:!(o=Y(r,n))||o.enumerable});return e};var ne=e=>te(L({},"__esModule",{value:!0}),e);var Me={};re(Me,{defaultLogger:()=>$e,disable:()=>Se,enable:()=>Ue,enabled:()=>ke,logger:()=>N,peerLogger:()=>Ee,prefixLogger:()=>_});var Le=new Uint8Array(0);function J(e){if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function oe(e,r){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),o=0;o<t.length;o++)t[o]=255;for(var n=0;n<e.length;n++){var f=e.charAt(n),l=f.charCodeAt(0);if(t[l]!==255)throw new TypeError(f+" is ambiguous");t[l]=n}var d=e.length,v=e.charAt(0),E=Math.log(d)/Math.log(256),i=Math.log(256)/Math.log(d);function s(a){if(a instanceof Uint8Array||(ArrayBuffer.isView(a)?a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength):Array.isArray(a)&&(a=Uint8Array.from(a))),!(a instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(a.length===0)return"";for(var b=0,p=0,u=0,h=a.length;u!==h&&a[u]===0;)u++,b++;for(var g=(h-u)*i+1>>>0,y=new Uint8Array(g);u!==h;){for(var C=a[u],A=0,w=g-1;(C!==0||A<p)&&w!==-1;w--,A++)C+=256*y[w]>>>0,y[w]=C%d>>>0,C=C/d>>>0;if(C!==0)throw new Error("Non-zero carry");p=A,u++}for(var F=g-p;F!==g&&y[F]===0;)F++;for(var S=v.repeat(b);F<g;++F)S+=e.charAt(y[F]);return S}function c(a){if(typeof a!="string")throw new TypeError("Expected String");if(a.length===0)return new Uint8Array;var b=0;if(a[b]!==" "){for(var p=0,u=0;a[b]===v;)p++,b++;for(var h=(a.length-b)*E+1>>>0,g=new Uint8Array(h);a[b];){var y=t[a.charCodeAt(b)];if(y===255)return;for(var C=0,A=h-1;(y!==0||C<u)&&A!==-1;A--,C++)y+=d*g[A]>>>0,g[A]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");u=C,b++}if(a[b]!==" "){for(var w=h-u;w!==h&&g[w]===0;)w++;for(var F=new Uint8Array(p+(h-w)),S=p;w!==h;)F[S++]=g[w++];return F}}}function $(a){var b=c(a);if(b)return b;throw new Error(`Non-${r} character`)}return{encode:s,decodeUnsafe:c,decode:$}}var ie=oe,se=ie,R=se;var O=class{name;prefix;baseEncode;constructor(r,t,o){this.name=r,this.prefix=t,this.baseEncode=o}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}},z=class{name;prefix;baseDecode;prefixCodePoint;constructor(r,t,o){this.name=r,this.prefix=t;let n=t.codePointAt(0);if(n===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n,this.baseDecode=o}decode(r){if(typeof r=="string"){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(r){return V(this,r)}},I=class{decoders;constructor(r){this.decoders=r}or(r){return V(this,r)}decode(r){let t=r[0],o=this.decoders[t];if(o!=null)return o.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function V(e,r){return new I({...e.decoders??{[e.prefix]:e},...r.decoders??{[r.prefix]:r}})}var P=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(r,t,o,n){this.name=r,this.prefix=t,this.baseEncode=o,this.baseDecode=n,this.encoder=new O(r,t,o),this.decoder=new z(r,t,n)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}};function B({name:e,prefix:r,encode:t,decode:o}){return new P(e,r,t,o)}function j({name:e,prefix:r,alphabet:t}){let{encode:o,decode:n}=R(t,e);return B({prefix:r,name:e,encode:o,decode:f=>J(n(f))})}function ae(e,r,t,o){let n=e.length;for(;e[n-1]==="=";)--n;let f=new Uint8Array(n*t/8|0),l=0,d=0,v=0;for(let E=0;E<n;++E){let i=r[e[E]];if(i===void 0)throw new SyntaxError(`Non-${o} character`);d=d<<t|i,l+=t,l>=8&&(l-=8,f[v++]=255&d>>l)}if(l>=t||(255&d<<8-l)!==0)throw new SyntaxError("Unexpected end of data");return f}function ue(e,r,t){let o=r[r.length-1]==="=",n=(1<<t)-1,f="",l=0,d=0;for(let v=0;v<e.length;++v)for(d=d<<8|e[v],l+=8;l>t;)l-=t,f+=r[n&d>>l];if(l!==0&&(f+=r[n&d<<t-l]),o)for(;(f.length*t&7)!==0;)f+="=";return f}function fe(e){let r={};for(let t=0;t<e.length;++t)r[e[t]]=t;return r}function x({name:e,prefix:r,bitsPerChar:t,alphabet:o}){let n=fe(o);return B({prefix:r,name:e,encode(f){return ue(f,o,t)},decode(f){return ae(f,n,t,e)}})}var q=x({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Te=x({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Je=x({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Re=x({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ve=x({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Be=x({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),qe=x({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ge=x({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Xe=x({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var G=j({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Qe=j({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var X=x({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ye=x({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),He=x({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),er=x({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function ce(e,r){if(typeof e=="string")return le(e);if(typeof e=="number")return he(e,r);throw Error(`Value provided to ms() must be a string or number. value=${JSON.stringify(e)}`)}var k=ce;function le(e){if(typeof e!="string"||e.length===0||e.length>100)throw Error(`Value provided to ms.parse() must be a string with length between 1 and 99. value=${JSON.stringify(e)}`);let r=/^(?<value>-?\d*\.?\d+) *(?<unit>milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mo|years?|yrs?|y)?$/i.exec(e);if(!r?.groups)return NaN;let{value:t,unit:o="ms"}=r.groups,n=parseFloat(t),f=o.toLowerCase();switch(f){case"years":case"year":case"yrs":case"yr":case"y":return n*315576e5;case"months":case"month":case"mo":return n*26298e5;case"weeks":case"week":case"w":return n*6048e5;case"days":case"day":case"d":return n*864e5;case"hours":case"hour":case"hrs":case"hr":case"h":return n*36e5;case"minutes":case"minute":case"mins":case"min":case"m":return n*6e4;case"seconds":case"second":case"secs":case"sec":case"s":return n*1e3;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:throw Error(`Unknown unit "${f}" provided to ms.parse(). value=${JSON.stringify(e)}`)}}function de(e){let r=Math.abs(e);return r>=315576e5?`${Math.round(e/315576e5)}y`:r>=26298e5?`${Math.round(e/26298e5)}mo`:r>=6048e5?`${Math.round(e/6048e5)}w`:r>=864e5?`${Math.round(e/864e5)}d`:r>=36e5?`${Math.round(e/36e5)}h`:r>=6e4?`${Math.round(e/6e4)}m`:r>=1e3?`${Math.round(e/1e3)}s`:`${e}ms`}function pe(e){let r=Math.abs(e);return r>=315576e5?U(e,r,315576e5,"year"):r>=26298e5?U(e,r,26298e5,"month"):r>=6048e5?U(e,r,6048e5,"week"):r>=864e5?U(e,r,864e5,"day"):r>=36e5?U(e,r,36e5,"hour"):r>=6e4?U(e,r,6e4,"minute"):r>=1e3?U(e,r,1e3,"second"):`${e} ms`}function he(e,r){if(typeof e!="number"||!Number.isFinite(e))throw Error("Value provided to ms.format() must be of type number.");return r?.long?pe(e):de(e)}function U(e,r,t,o){let n=r>=t*1.5;return`${Math.round(e/t)} ${o}${n?"s":""}`}function D(e){t.debug=t,t.default=t,t.coerce=v,t.disable=f,t.enable=n,t.enabled=l,t.humanize=k,t.destroy=E,Object.keys(e).forEach(i=>{t[i]=e[i]}),t.names=[],t.skips=[],t.formatters={};function r(i){let s=0;for(let c=0;c<i.length;c++)s=(s<<5)-s+i.charCodeAt(c),s|=0;return t.colors[Math.abs(s)%t.colors.length]}t.selectColor=r;function t(i,s){let c,$=null,a,b;function p(...u){if(!p.enabled)return;let h=p,g=Number(new Date),y=g-(c||g);h.diff=y,h.prev=c,h.curr=g,c=g,u[0]=t.coerce(u[0]),typeof u[0]!="string"&&u.unshift("%O");let C=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,(w,F)=>{if(w==="%%")return"%";C++;let S=t.formatters[F];if(typeof S=="function"){let W=u[C];w=S.call(h,W),u.splice(C,1),C--}return w}),t.formatArgs.call(h,u),s?.onLog!=null&&s.onLog(...u),(h.log||t.log).apply(h,u)}return p.namespace=i,p.useColors=t.useColors(),p.color=t.selectColor(i),p.extend=o,p.destroy=t.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>$!==null?$:(a!==t.namespaces&&(a=t.namespaces,b=t.enabled(i)),b),set:u=>{$=u}}),typeof t.init=="function"&&t.init(p),p}function o(i,s){let c=t(this.namespace+(typeof s>"u"?":":s)+i);return c.log=this.log,c}function n(i){t.save(i),t.namespaces=i,t.names=[],t.skips=[];let s,c=(typeof i=="string"?i:"").split(/[\s,]+/),$=c.length;for(s=0;s<$;s++)c[s]&&(i=c[s].replace(/\*/g,".*?"),i[0]==="-"?t.skips.push(new RegExp("^"+i.substr(1)+"$")):t.names.push(new RegExp("^"+i+"$")))}function f(){let i=[...t.names.map(d),...t.skips.map(d).map(s=>"-"+s)].join(",");return t.enable(""),i}function l(i){if(i[i.length-1]==="*")return!0;let s,c;for(s=0,c=t.skips.length;s<c;s++)if(t.skips[s].test(i))return!1;for(s=0,c=t.names.length;s<c;s++)if(t.names[s].test(i))return!0;return!1}function d(i){return i.toString().substring(2,i.toString().length-2).replace(/\.\*\?$/,"*")}function v(i){return i instanceof Error?i.stack??i.message:i}function E(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.setupFormatters(t.formatters),t.enable(t.load()),t}var M=ye(),be=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function me(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent?.toLowerCase().match(/(edge|trident)\/(\d+)/)!=null?!1:typeof document<"u"&&document.documentElement?.style?.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent?.toLowerCase().match(/firefox\/(\d+)/)!=null&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent?.toLowerCase().match(/applewebkit\/(\d+)/)}function ge(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+k(this.diff),!this.useColors)return;let r="color: "+this.color;e.splice(1,0,r,"color: inherit");let t=0,o=0;e[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(t++,n==="%c"&&(o=t))}),e.splice(o,0,r)}var Ce=console.debug??console.log??(()=>{});function we(e){try{e?M?.setItem("debug",e):M?.removeItem("debug")}catch{}}function xe(){let e;try{e=M?.getItem("debug")}catch{}return!e&&typeof globalThis.process<"u"&&"env"in globalThis.process&&(e=globalThis.process.env.DEBUG),e}function ye(){try{return localStorage}catch{}}function Fe(e){e.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}var Z=D({formatArgs:ge,save:we,load:xe,useColors:me,setupFormatters:Fe,colors:be,storage:M,log:Ce});var m=Z;function K(e,r={}){let t=r.prefixLength??2,o=r.suffixLength??4,n=e.toString();return`${n.substring(0,t)}\u2026${n.substring(n.length,n.length-o)}`}m.formatters.b=e=>e==null?"undefined":G.baseEncode(e);m.formatters.t=e=>e==null?"undefined":q.baseEncode(e);m.formatters.m=e=>e==null?"undefined":X.baseEncode(e);m.formatters.p=e=>e==null?"undefined":e.toString();m.formatters.c=e=>e==null?"undefined":e.toString();m.formatters.k=e=>e==null?"undefined":e.toString();m.formatters.a=e=>e==null?"undefined":e.toString();function T(e){let r=Q(e.message),t=Q(e.stack);return r!=null&&t!=null?t.includes(r)?t:`${r}
${t}`:t??r??e.toString()}function ve(e){return e instanceof AggregateError||e?.name==="AggregateError"&&Array.isArray(e.errors)}m.formatters.e=e=>{if(e==null)return"undefined";if(ve(e)){let r="      ",t=T(e);return e.errors.length>0?t+=`
${r}${e.errors.map(o=>`  ${T(o).split(`
`).join(`
${r}`)}`).join(`
${r}`)}`:t+=`
${r}[Error list was empty]`,t.trim()}return T(e)};function Ae(e){let r=()=>{};return r.enabled=!1,r.color="",r.diff=0,r.log=()=>{},r.namespace=e,r.destroy=()=>!0,r.extend=()=>r,r}function Ee(e,r={}){return _(K(e,r),r)}function _(e,r){return{forComponent(t){return N(`${e}:${t}`,r)}}}function $e(e){return{forComponent(r){return N(r,e)}}}function N(e,r){let t=Ae(`${e}:trace`);return m.enabled(`${e}:trace`)&&m.names.map(o=>o.toString()).find(o=>o.includes(":trace"))!=null&&(t=m(`${e}:trace`,r)),Object.assign(m(e,r),{error:m(`${e}:error`,r),trace:t,newScope:o=>N(`${e}:${o}`,r)})}function Se(){m.disable()}function Ue(e){m.enable(e)}function ke(e){return m.enabled(e)}function Q(e){if(e!=null&&(e=e.trim(),e.length!==0))return e}return ne(Me);})();
return Libp2PLogger}));
//# sourceMappingURL=index.min.js.map
